<section>
  <div class="container py-5">
    <div class="row d-flex justify-content-center align-items-center">
      <div class="col-lg-8 col-md-10 col-sm-12 d-flex justify-content-center">
        <div class="card border-0 w-75" id="list1">
          <p class="h1 text-center mt-3 mb-4 pb-3 text-primary">
            <i class="fa-solid fa-list"></i>
            To-Do List
          </p>
          <div class="py-2 px-4">
            <div class="card border-1">
              <div class="card-body">
                <!-- (ngSubmit)="createTodo()" -->
                <form class="d-flex flex-column flex-md-row align-items-center justify-content-around"
                  [formGroup]="taskForm">
                  <!-- Password input -->
                  <mat-form-field appearance="outline" class="mt-3 w-75" color="primary">
                    <mat-label>Add Task</mat-label>
                    <input class="mt-1" matInput formControlName="title" type="text" placeholder="Add Task ..." />
                    <mat-icon matSuffix color="primary" style="cursor: pointer"><i
                        class="fa-solid fa-list fa-sm me-3"></i></mat-icon>
                    <mat-error>required</mat-error>
                  </mat-form-field>
                  <div>
                    <button type="submit" class="btn btn-primary text-center" [disabled]="taskForm.invalid"
                      (click)="createTodo()">Add</button>
                  </div>
                </form>
              </div>
            </div>
          </div>

          <!-- Conditional Rendering for No Tasks Found -->
          @if (!todos) {
          <h1 class="text-danger text-center">{{ noFound }}</h1>
          }
          @else {
          <!-- To-Do List -->
          @for (todo of todos; track $index) {
          <ul class="list-group mb-2">
            <li class="list-group-item d-flex justify-content-between align-items-center">
              <div class="form-check">
                <input class="form-check-input me-2" type="checkbox" [(ngModel)]="todo.completed" (change)="updateTodo(todo)"/>
                <label class="form-check-label" [ngClass]="{ 'text-decoration-line-through': todo.completed }">
                  {{ todo.title }}
                </label>
              </div>
              <div class="d-flex">
                <a class="text-danger pointer-cursor me-3" data-mdb-toggle="tooltip" title="Delete ToDo" role="button"
                  (click)="deleteTodo(todo.id)">
                  <i class="far fa-trash-alt"></i>
                </a>
              </div>
              </li>
          </ul>
          }
          }

        </div>
      </div>
    </div>
  </div>
</section>
